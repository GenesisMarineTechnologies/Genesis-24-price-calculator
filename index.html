<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genesis 24 Wakesurf Boat - Pricing Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .configuration-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
        }

        .pricing-summary {
            background: #fff;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .category-section {
            margin-bottom: 25px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #667eea;
        }

        .category-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .category-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .checkbox-group {
            display: grid;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover {
            background: #e9ecef;
        }

        .checkbox-item.selected {
            background: #e7f3ff;
            border-color: #667eea;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin: 0;
            accent-color: #667eea;
        }

        .option-label {
            flex: 1;
            font-weight: 500;
            color: #2c3e50;
        }

        .option-cost {
            font-weight: 600;
            color: #27ae60;
        }

        .premium-badge {
            background: #f39c12;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .ultra-premium-badge {
            background: #e74c3c;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .ultra-premium-plus-badge {
            background: #8e44ad;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .price-row:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.2rem;
            color: #2c3e50;
            border-top: 2px solid #667eea;
            padding-top: 20px;
            margin-top: 10px;
        }

        .base-price {
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .upgrade-cost {
            color: #27ae60;
            font-weight: 600;
        }

        .total-price {
            font-size: 1.5rem;
            color: #667eea;
            font-weight: 800;
        }

        .summary-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .summary-header h3 {
            color: #2c3e50;
            font-size: 1.4rem;
            margin-bottom: 5px;
        }

        .price-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .reset-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s ease;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
        }

        .edit-mode .category-title {
            position: relative;
        }

        .edit-controls {
            display: none;
            position: absolute;
            right: 0;
            top: 0;
            gap: 5px;
        }

        .edit-mode .edit-controls {
            display: flex;
        }

        .edit-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .edit-btn:hover {
            background: #5a67d8;
        }

        .editable {
            cursor: pointer;
            border: 2px dashed transparent;
            padding: 2px;
            border-radius: 3px;
        }

        .edit-mode .editable:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .editing {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .add-item-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }

        .edit-mode .add-item-btn {
            display: block;
        }

        .add-item-btn:hover {
            background: #218838;
        }

        .edit-mode .checkbox-item .edit-btn {
            display: inline-block !important;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .pricing-summary {
                position: relative;
                top: 0;
                order: -1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Genesis 24 Wakesurf Boat</h1>
            <p>Customize your perfect wakesurf boat with our interactive pricing calculator</p>
        </div>

        <div class="main-content">
            <div class="configuration-panel">
                <div id="categoryContainer"></div>
            </div>

            <div class="pricing-summary">
                <div class="summary-header">
                    <h3>Price Summary</h3>
                    <div class="price-badge">Starting at <span id="basePriceDisplay" onclick="editBasePrice()" style="cursor: pointer; text-decoration: underline;">$290,000</span></div>
                </div>
                
                <div id="pricingBreakdown">
                    <div class="price-row">
                        <span class="base-price">Base Price:</span>
                        <span class="base-price">$350,000</span>
                    </div>
                    <div class="price-row">
                        <span class="base-price">Total Upgrades:</span>
                        <span class="upgrade-cost" id="totalUpgrades">$0</span>
                    </div>
                    <div class="price-row">
                        <span>Total Price:</span>
                        <span class="total-price" id="totalPrice">$290,000</span>
                    </div>
                </div>

                <button class="reset-btn" onclick="resetConfiguration()">Reset Configuration</button>
                
                <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e9ecef;">
                    <h4 style="margin-bottom: 15px; color: #2c3e50;">Edit Mode</h4>
                    <button class="reset-btn" onclick="toggleEditMode()" id="editModeBtn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-bottom: 10px;">Enable Editing</button>
                    <button class="reset-btn" onclick="addNewCategory()" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); margin-bottom: 10px;">Add New Category</button>
                    
                    <h4 style="margin: 20px 0 15px 0; color: #2c3e50; border-top: 1px solid #e9ecef; padding-top: 15px;">Save & Load</h4>
                    <button class="reset-btn" onclick="saveConfiguration()" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); margin-bottom: 10px;">Save Configurator</button>
                    <button class="reset-btn" onclick="saveCustomerConfiguration()" style="background: linear-gradient(135deg, #6f42c1 0%, #5a32a3 100%); margin-bottom: 10px;">Save Customer Selections</button>
                    <input type="file" id="loadConfigInput" accept=".json" style="display: none;" onchange="loadConfiguration(this)">
                    <button class="reset-btn" onclick="document.getElementById('loadConfigInput').click()" style="background: linear-gradient(135deg, #fd7e14 0%, #e36209 100%); margin-bottom: 10px;">Load Configuration</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Boat configuration data loaded from the JSON file
        const boatData = {
            "basePrice": 290000,
            "categories": {
                "Hull Bottom": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Standard", "cost": 0},
                    {"item": "Pop Orange", "level": "Standard", "cost": 0},
                    {"item": "Sea Teal", "level": "Standard", "cost": 0},
                    {"item": "Neon Green", "level": "Standard", "cost": 0},
                    {"item": "Deep Purple", "level": "Standard", "cost": 0}
                ],
                "Hull Main": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Premium", "cost": 1245},
                    {"item": "Hunter Green", "level": "Premium", "cost": 1245},
                    {"item": "Pop Orange", "level": "Premium", "cost": 1245},
                    {"item": "Sea Teal", "level": "Premium", "cost": 1245},
                    {"item": "Neon Green", "level": "Premium", "cost": 1245},
                    {"item": "Deep Purple", "level": "Premium", "cost": 1245}
                ],
                "Hull Accent": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Premium", "cost": 728},
                    {"item": "Hunter Green", "level": "Premium", "cost": 728},
                    {"item": "Pop Orange", "level": "Premium", "cost": 728},
                    {"item": "Sea Teal", "level": "Premium", "cost": 728},
                    {"item": "Neon Green", "level": "Premium", "cost": 728},
                    {"item": "Deep Purple", "level": "Premium", "cost": 728},
                    {"item": "Onyx Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Steel Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Opal Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Electric Blue Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Fire Red Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Sky Blue Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Hunter Green Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Pop Orange Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Sea Teal Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Neon Green Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Deep Purple Flake", "level": "Ultra Premium", "cost": 2670},
                    {"item": "Golden Flake", "level": "Ultra Premium", "cost": 2670}
                ],
                "Top Deck / Interior Color": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Premium", "cost": 1245},
                    {"item": "Hunter Green", "level": "Premium", "cost": 1245},
                    {"item": "Pop Orange", "level": "Premium", "cost": 1245},
                    {"item": "Sea Teal", "level": "Premium", "cost": 1245},
                    {"item": "Neon Green", "level": "Premium", "cost": 1245},
                    {"item": "Deep Purple", "level": "Premium", "cost": 1245}
                ],
                "Swim Platform Color": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Standard", "cost": 0},
                    {"item": "Pop Orange", "level": "Standard", "cost": 0},
                    {"item": "Sea Teal", "level": "Standard", "cost": 0},
                    {"item": "Neon Green", "level": "Standard", "cost": 0},
                    {"item": "Deep Purple", "level": "Standard", "cost": 0},
                    {"item": "Onyx Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Steel Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Opal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Electric Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Fire Red Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sky Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Hunter Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Pop Orange Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sea Teal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Neon Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Deep Purple Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Golden Flake", "level": "Ultra Premium", "cost": 1245}
                ],
                "Tower Color": [
                    {"item": "Black", "level": "Standard", "cost": 0},
                    {"item": "White", "level": "Standard", "cost": 0}
                ],
                "Tower & Windshield Accents": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Standard", "cost": 0},
                    {"item": "Pop Orange", "level": "Standard", "cost": 0},
                    {"item": "Sea Teal", "level": "Standard", "cost": 0},
                    {"item": "Neon Green", "level": "Standard", "cost": 0},
                    {"item": "Deep Purple", "level": "Standard", "cost": 0},
                    {"item": "Onyx Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Steel Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Opal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Electric Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Fire Red Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sky Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Hunter Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Pop Orange Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sea Teal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Neon Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Deep Purple Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Golden Flake", "level": "Ultra Premium", "cost": 1245}
                ],
                "Speaker Wells": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Sky Blue", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Standard", "cost": 0},
                    {"item": "Pop Orange", "level": "Standard", "cost": 0},
                    {"item": "Sea Teal", "level": "Standard", "cost": 0},
                    {"item": "Neon Green", "level": "Standard", "cost": 0},
                    {"item": "Deep Purple", "level": "Standard", "cost": 0},
                    {"item": "Onyx Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Steel Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Opal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Electric Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Fire Red Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sky Blue Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Hunter Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Pop Orange Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Sea Teal Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Neon Green Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Deep Purple Flake", "level": "Ultra Premium", "cost": 1245},
                    {"item": "Golden Flake", "level": "Ultra Premium", "cost": 1245}
                ],
                "Upholstery Main": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Desert Sand", "level": "Standard", "cost": 0},
                    {"item": "Cognac", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Premium", "cost": 830},
                    {"item": "Pop Orange", "level": "Premium", "cost": 830},
                    {"item": "Sea Teal", "level": "Premium", "cost": 830},
                    {"item": "Burgundy", "level": "Premium", "cost": 830}
                ],
                "Upholstery Accent": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Desert Sand", "level": "Standard", "cost": 0},
                    {"item": "Cognac", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Premium", "cost": 830},
                    {"item": "Pop Orange", "level": "Premium", "cost": 830},
                    {"item": "Sea Teal", "level": "Premium", "cost": 830},
                    {"item": "Burgundy", "level": "Premium", "cost": 830}
                ],
                "Upholstery Bolster": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 0},
                    {"item": "Fire Red", "level": "Standard", "cost": 0},
                    {"item": "Desert Sand", "level": "Standard", "cost": 0},
                    {"item": "Cognac", "level": "Standard", "cost": 0},
                    {"item": "Hunter Green", "level": "Premium", "cost": 630},
                    {"item": "Pop Orange", "level": "Premium", "cost": 630},
                    {"item": "Sea Teal", "level": "Premium", "cost": 630},
                    {"item": "Burgundy", "level": "Premium", "cost": 630}
                ],
                "Upholstery Stitching": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Standard", "cost": 0},
                    {"item": "Steel Gray", "level": "Standard", "cost": 0},
                    {"item": "Electric Blue", "level": "Standard", "cost": 329},
                    {"item": "Fire Red", "level": "Standard", "cost": 329},
                    {"item": "Desert Sand", "level": "Standard", "cost": 329},
                    {"item": "Cognac", "level": "Standard", "cost": 329},
                    {"item": "Hunter Green", "level": "Premium", "cost": 329},
                    {"item": "Pop Orange", "level": "Premium", "cost": 329},
                    {"item": "Burgundy", "level": "Premium", "cost": 329}
                ],
                "Metal Accents": [
                    {"item": "Brushed Aluminum", "level": "Standard", "cost": 0},
                    {"item": "Black", "level": "Premium", "cost": 465},
                    {"item": "Powder Coat Gold", "level": "Ultra Premium", "cost": 1643}
                ],
                "Stereo": [
                    {"item": "Audsion Base (6 - 8\" interior rgb speakers) Standard", "level": "Standard", "cost": 0},
                    {"item": "Audsion Mid (6 - 8\" interior rgb speakers with 12\" free air rgb subwoofer and one pair of RGB tower speakers) Premium", "level": "Premium", "cost": 3496},
                    {"item": "Audsion Premium (6 - 8\" interior rgb speakers with 12\" free air rgb subwoofer and two pairs of RGB tower speakers) Ultra Premium", "level": "Ultra Premium", "cost": 5483},
                    {"item": "Audsion X (6 - 8\" interior rgb speakers with 12\" free air rgb subwoofer and two pairs of RGB tower speakers and One ported subwoofer) Ultra Premium +", "level": "Ultra Premium +", "cost": 7624}
                ],
                "Wake Surf": [
                    {"item": "Laminar X surf system 4500lbs", "level": "Premium", "cost": 1820},
                    {"item": "Laminar surf system 3200lbs", "level": "Standard", "cost": 0},
                    {"item": "Straight Track - Triple Fin tracking", "level": "Premium", "cost": 640},
                    {"item": "Single Tracking Fin", "level": "Standard", "cost": 0},
                    {"item": "Side tow mounts", "level": "Standard", "cost": 0},
                    {"item": "PTM 360 Mirror", "level": "Premium", "cost": 595},
                    {"item": "PTM 360 + Flag pole mount", "level": "Premium", "cost": 695}
                ],
                "Wake Surf Racks": [
                    {"item": "Roswell Elite Board Rack", "level": "Standard", "cost": 0},
                    {"item": "Roswell Elite Dual Surf Racks", "level": "Premium", "cost": 284},
                    {"item": "Triton Strapless Board Rack", "level": "Premium", "cost": 1245},
                    {"item": "Roswell Triton 2 Racks", "level": "Premium", "cost": 1845},
                    {"item": "PTM clampforce racks 3.0", "level": "Premium", "cost": 4695}
                ],
                "Tower Speaker Cans": [
                    {"item": "Onyx Black", "level": "Standard", "cost": 0},
                    {"item": "Opal White", "level": "Standard", "cost": 0},
                    {"item": "Fog Gray", "level": "Premium", "cost": 465},
                    {"item": "Steel Gray", "level": "Premium", "cost": 465},
                    {"item": "Electric Blue", "level": "Premium", "cost": 465},
                    {"item": "Fire Red", "level": "Premium", "cost": 465},
                    {"item": "Sky Blue", "level": "Premium", "cost": 465},
                    {"item": "Hunter Green", "level": "Premium", "cost": 465},
                    {"item": "Pop Orange", "level": "Premium", "cost": 465},
                    {"item": "Sea Teal", "level": "Premium", "cost": 465},
                    {"item": "Neon Green", "level": "Premium", "cost": 465},
                    {"item": "Deep Purple", "level": "Premium", "cost": 465},
                    {"item": "Onyx Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Steel Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Opal Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Electric Blue Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Fire Red Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Sky Blue Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Hunter Green Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Pop Orange Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Sea Teal Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Neon Green Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Deep Purple Flake", "level": "Ultra Premium", "cost": 1250},
                    {"item": "Golden Flake", "level": "Ultra Premium", "cost": 1250}
                ],
                "Lighting": [
                    {"item": "RGB Interior lights", "level": "Standard", "cost": 0},
                    {"item": "RGB Metal Accents", "level": "Premium", "cost": 2485},
                    {"item": "RGB Underwater surf lights Dual", "level": "Premium", "cost": 2245},
                    {"item": "Docking lights", "level": "Premium", "cost": 572},
                    {"item": "Topwater surf lights", "level": "Premium", "cost": 1144},
                    {"item": "Storage compartment lighting", "level": "Premium", "cost": 572}
                ],
                "Flooring Options": [
                    {"item": "Single Layer flooring", "level": "Standard", "cost": 0},
                    {"item": "Two layer Flooring", "level": "Premium", "cost": 3842},
                    {"item": "3 Layer Flooring", "level": "Ultra Premium", "cost": 5348}
                ],
                "Comfort & Convenience": [
                    {"item": "Anchor cleat", "level": "Premium", "cost": 328},
                    {"item": "Swim Ladder extra wide", "level": "Premium", "cost": 684},
                    {"item": "Sliding seat with integrated table top", "level": "Ultra Premium", "cost": 3748},
                    {"item": "Flip up sunpad seats", "level": "Premium", "cost": 484},
                    {"item": "Phender Pro (4 pcs)", "level": "Premium", "cost": 485},
                    {"item": "Wind Dam", "level": "Premium", "cost": 174},
                    {"item": "Heater with 3 vents", "level": "Premium", "cost": 742},
                    {"item": "Heated / Cooled captain chair", "level": "Ultra Premium", "cost": 973},
                    {"item": "Heated / Cooled passenger chair", "level": "Ultra Premium", "cost": 1946},
                    {"item": "Heated / Cooled cup holder Captain", "level": "Ultra Premium", "cost": 485},
                    {"item": "Wirelss phone chargers (3)", "level": "Premium", "cost": 493},
                    {"item": "Surf Camera", "level": "Premium", "cost": 241},
                    {"item": "Integrated wine cooler", "level": "Premium", "cost": 1464},
                    {"item": "Rear Shower system", "level": "Premium", "cost": 645},
                    {"item": "Flir Night Vision Camera", "level": "Ultra Premium +", "cost": 3474},
                    {"item": "Power Retractable Ladder 36\" wide", "level": "Ultra Premium +", "cost": 6248}
                ],
                "Power Upgrades": [
                    {"item": "Stern Thruster - Integrated control", "level": "Ultra Premium +", "cost": 6324},
                    {"item": "110v Charger", "level": "Premium", "cost": 264},
                    {"item": "7.5kW - 21kW Wall/Post mount Charger", "level": "Premium", "cost": 384},
                    {"item": "Shore power 30amp", "level": "Premium", "cost": 187}
                ],
                "Trailer": [
                    {"item": "Base Trailer with solid paint color, custom match to Hull", "level": "Standard", "cost": 0},
                    {"item": "Triple Axle", "level": "Premium", "cost": 3450},
                    {"item": "2 Tone Paint", "level": "Premium", "cost": 1243},
                    {"item": "2 Tone Flake Paint", "level": "Premium", "cost": 2686},
                    {"item": "Full Flake Painted trailer", "level": "Premium", "cost": 4184},
                    {"item": "Dual Sport Wheels", "level": "Premium", "cost": 1543},
                    {"item": "Triple 18\" Black Sport Wheels", "level": "Premium", "cost": 3496},
                    {"item": "Base Spare Tire", "level": "Premium", "cost": 436},
                    {"item": "Sport Spare Tire", "level": "Premium", "cost": 863},
                    {"item": "Base Gray Single Layer", "level": "Premium", "cost": 754},
                    {"item": "Base Cognac Single Layer", "level": "Premium", "cost": 754},
                    {"item": "2 Layer Custom Flooring", "level": "Premium", "cost": 1134},
                    {"item": "3 Layer Custom Flooring", "level": "Premium", "cost": 1568},
                    {"item": "Bow Ladder + Handrails", "level": "Premium", "cost": 895},
                    {"item": "Swing Away Tongue", "level": "Premium", "cost": 438},
                    {"item": "RGB Intensity Pack Dual Axle", "level": "Premium", "cost": 954},
                    {"item": "RGB Intensity Pack Triple Axle", "level": "Premium", "cost": 1859}
                ],
                "Regional Upgrades": [
                    {"item": "Saltwater upgrade (Generator equipped with saltwater resistant components + Saltwater protection for submerged components + Saltwater cooling system)", "level": "Premium", "cost": 1248},
                    {"item": "Trailer Cover", "level": "Premium", "cost": 1295},
                    {"item": "HD Boat Cover with zipper & straps", "level": "Ultra Premium", "cost": 3245},
                    {"item": "Swim Platform Cover", "level": "Premium", "cost": 648}
                ],
                "Interior Speaker Colors": [
                    {"item": "Black", "level": "Standard", "cost": 0},
                    {"item": "White", "level": "Standard", "cost": 0}
                ]
            }
        };

        let configuration = {};
        let totalUpgrades = 0;
        let editMode = false;

        function formatPrice(price) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(price);
        }

        function getLevelBadge(level) {
            if (level === 'Premium') return '<span class="premium-badge">Premium</span>';
            if (level === 'Ultra Premium') return '<span class="ultra-premium-badge">Ultra Premium</span>';
            if (level === 'Ultra Premium +') return '<span class="ultra-premium-plus-badge">Ultra Premium +</span>';
            return '';
        }

        function createCategorySection(categoryName, options) {
            const categoryId = categoryName.replace(/[^a-zA-Z0-9]/g, '_');
            
            let html = `
                <div class="category-section">
                    <div class="category-title">
                        <div class="category-icon">${categoryName.charAt(0)}</div>
                        <span class="editable category-name" data-category="${categoryName}" onclick="editCategoryName(this)">${categoryName}</span>
                        <div class="edit-controls">
                            <button class="edit-btn" onclick="deleteCategory('${categoryName}')">Delete</button>
                        </div>
                    </div>
                    <div class="checkbox-group">
            `;

            options.forEach((option, index) => {
                const optionId = `${categoryId}_${index}`;
                const costDisplay = option.cost > 0 ? `+${formatPrice(option.cost)}` : 'Included';
                const badge = getLevelBadge(option.level);
                
                html += `
                    <div class="checkbox-item" id="${optionId}_container">
                        <input type="checkbox" 
                               id="${optionId}" 
                               data-category="${categoryName}"
                               data-cost="${option.cost}"
                               data-item="${option.item}"
                               onchange="updateCheckboxPrice(this)">
                        <label for="${optionId}" class="option-label">
                            <span class="editable item-name" onclick="editItemName(this, '${categoryName}', ${index})">${option.item}</span> ${badge}
                        </label>
                        <span class="option-cost editable" onclick="editItemCost(this, '${categoryName}', ${index})" data-cost="${option.cost}">${costDisplay}</span>
                        <button class="edit-btn" onclick="deleteItem('${categoryName}', ${index})" style="margin-left: 10px; display: none;">Delete</button>
                    </div>
                `;
            });

            html += `
                    </div>
                    <button class="add-item-btn" onclick="addNewItem('${categoryName}')">Add New Item</button>
                </div>
            `;
            return html;
        }

        function renderCategories() {
            const container = document.getElementById('categoryContainer');
            let html = '';

            Object.keys(boatData.categories).forEach(categoryName => {
                html += createCategorySection(categoryName, boatData.categories[categoryName]);
            });

            container.innerHTML = html;
        }

        function updateCheckboxPrice(checkbox) {
            const category = checkbox.dataset.category;
            const cost = parseFloat(checkbox.dataset.cost);
            const item = checkbox.dataset.item;

            if (!configuration[category]) {
                configuration[category] = [];
            }

            const container = document.getElementById(checkbox.id + '_container');

            if (checkbox.checked) {
                configuration[category].push({
                    item: item,
                    cost: cost
                });
                totalUpgrades += cost;
                container.classList.add('selected');
            } else {
                const index = configuration[category].findIndex(opt => opt.item === item);
                if (index > -1) {
                    totalUpgrades -= configuration[category][index].cost;
                    configuration[category].splice(index, 1);
                }
                container.classList.remove('selected');
            }

            updatePricingDisplay();
        }

        function updatePricingDisplay() {
            document.getElementById('totalUpgrades').textContent = formatPrice(totalUpgrades);
            document.getElementById('totalPrice').textContent = formatPrice(boatData.basePrice + totalUpgrades);
            document.getElementById('basePriceDisplay').textContent = formatPrice(boatData.basePrice);
            
            const priceBreakdown = document.getElementById('pricingBreakdown');
            const basePriceSpan = priceBreakdown.querySelector('.price-row .base-price:last-child');
            if (basePriceSpan) {
                basePriceSpan.textContent = formatPrice(boatData.basePrice);
            }
        }

        function resetConfiguration() {
            configuration = {};
            totalUpgrades = 0;
            
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
                document.getElementById(checkbox.id + '_container').classList.remove('selected');
            });
            
            updatePricingDisplay();
        }

        function toggleEditMode() {
            editMode = !editMode;
            const container = document.querySelector('.container');
            const btn = document.getElementById('editModeBtn');
            
            if (editMode) {
                container.classList.add('edit-mode');
                btn.textContent = 'Disable Editing';
                btn.style.background = 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)';
            } else {
                container.classList.remove('edit-mode');
                btn.textContent = 'Enable Editing';
                btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            }
        }

        function editBasePrice() {
            if (!editMode) return;
            
            const currentPrice = boatData.basePrice;
            const newPrice = prompt('Enter new base price:', currentPrice);
            
            if (newPrice && !isNaN(newPrice) && parseFloat(newPrice) > 0) {
                boatData.basePrice = parseFloat(newPrice);
                updatePricingDisplay();
            }
        }

        function editCategoryName(element) {
            if (!editMode) return;
            
            const currentName = element.textContent;
            const newName = prompt('Enter new category name:', currentName);
            
            if (newName && newName.trim() && newName !== currentName) {
                const oldName = element.dataset.category;
                
                boatData.categories[newName] = boatData.categories[oldName];
                delete boatData.categories[oldName];
                
                renderCategories();
                resetConfiguration();
            }
        }

        function editItemName(element, categoryName, itemIndex) {
            if (!editMode) return;
            
            const currentName = element.textContent;
            const newName = prompt('Enter new item name:', currentName);
            
            if (newName && newName.trim() && newName !== currentName) {
                boatData.categories[categoryName][itemIndex].item = newName.trim();
                element.textContent = newName.trim();
                
                if (configuration[categoryName]) {
                    configuration[categoryName].forEach(item => {
                        if (item.item === currentName) {
                            item.item = newName.trim();
                        }
                    });
                }
            }
        }

        function editItemCost(element, categoryName, itemIndex) {
            if (!editMode) return;
            
            const currentCost = boatData.categories[categoryName][itemIndex].cost;
            const newCost = prompt('Enter new cost (number only):', currentCost);
            
            if (newCost !== null && !isNaN(newCost) && parseFloat(newCost) >= 0) {
                const oldCost = boatData.categories[categoryName][itemIndex].cost;
                const parsedCost = parseFloat(newCost);
                
                boatData.categories[categoryName][itemIndex].cost = parsedCost;
                
                const costDisplay = parsedCost > 0 ? `+${formatPrice(parsedCost)}` : 'Included';
                element.textContent = costDisplay;
                element.dataset.cost = parsedCost;
                
                if (configuration[categoryName]) {
                    configuration[categoryName].forEach(item => {
                        if (item.cost === oldCost) {
                            totalUpgrades = totalUpgrades - oldCost + parsedCost;
                            item.cost = parsedCost;
                        }
                    });
                }
                
                updatePricingDisplay();
                renderCategories();
            }
        }

        function addNewItem(categoryName) {
            if (!editMode) return;
            
            const itemName = prompt('Enter item name:');
            const itemCost = prompt('Enter item cost (0 for included):');
            const itemLevel = prompt('Enter item level (Standard, Premium, Ultra Premium, Ultra Premium +):', 'Standard');
            
            if (itemName && itemName.trim() && itemCost !== null && !isNaN(itemCost)) {
                const newItem = {
                    item: itemName.trim(),
                    level: itemLevel || 'Standard',
                    cost: parseFloat(itemCost) || 0
                };
                
                boatData.categories[categoryName].push(newItem);
                renderCategories();
            }
        }

        function deleteItem(categoryName, itemIndex) {
            if (!editMode) return;
            
            if (confirm('Are you sure you want to delete this item?')) {
                boatData.categories[categoryName].splice(itemIndex, 1);
                renderCategories();
                resetConfiguration();
            }
        }

        function addNewCategory() {
            if (!editMode) return;
            
            const categoryName = prompt('Enter new category name:');
            if (!categoryName || !categoryName.trim()) return;
            
            const trimmedName = categoryName.trim();
            
            if (boatData.categories[trimmedName]) {
                alert('Category already exists!');
                return;
            }
            
            boatData.categories[trimmedName] = [];
            
            const defaultItem = {
                item: 'Default Option',
                level: 'Standard',
                cost: 0
            };
            
            boatData.categories[trimmedName].push(defaultItem);
            renderCategories();
        }

        function deleteCategory(categoryName) {
            if (!editMode) return;
            
            if (confirm(`Are you sure you want to delete the entire "${categoryName}" category?`)) {
                delete boatData.categories[categoryName];
                delete configuration[categoryName];
                
                renderCategories();
                updatePricingDisplay();
            }
        }

        function saveConfiguration() {
            const configData = {
                basePrice: boatData.basePrice,
                categories: boatData.categories,
                timestamp: new Date().toISOString(),
                type: 'configurator'
            };
            
            const dataStr = JSON.stringify(configData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `genesis24_configurator_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function saveCustomerConfiguration() {
            const customerData = {
                basePrice: boatData.basePrice,
                selectedOptions: configuration,
                totalUpgrades: totalUpgrades,
                totalPrice: boatData.basePrice + totalUpgrades,
                timestamp: new Date().toISOString(),
                type: 'customer_selection'
            };
            
            const dataStr = JSON.stringify(customerData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `genesis24_customer_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function loadConfiguration(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    if (data.type === 'configurator') {
                        if (confirm('This will replace your current configurator setup. Continue?')) {
                            boatData.basePrice = data.basePrice;
                            boatData.categories = data.categories;
                            renderCategories();
                            resetConfiguration();
                            alert('Configurator loaded successfully!');
                        }
                    } else if (data.type === 'customer_selection') {
                        if (confirm('Load this customer\'s selections?')) {
                            resetConfiguration();
                            configuration = data.selectedOptions;
                            totalUpgrades = data.totalUpgrades;
                            
                            Object.keys(configuration).forEach(category => {
                                if (Array.isArray(configuration[category])) {
                                    configuration[category].forEach(selectedItem => {
                                        const checkboxes = document.querySelectorAll(`input[data-category="${category}"]`);
                                        checkboxes.forEach(checkbox => {
                                            if (checkbox.dataset.item === selectedItem.item) {
                                                checkbox.checked = true;
                                                document.getElementById(checkbox.id + '_container').classList.add('selected');
                                            }
                                        });
                                    });
                                }
                            });
                            
                            updatePricingDisplay();
                            alert('Customer selections loaded successfully!');
                        }
                    }
                } catch (error) {
                    alert('Error loading file: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        // Initialize the calculator
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories();
            updatePricingDisplay();
        });
    </script>
</body>
</html>
